<tr>
  <th scope="row">
    <%= booking_vrental.name %>
    <br>
    <span class="text-warning fw-bold"><%= t(reason) %></span>
    <br>
    <%= l(date, format: :long_day) %>
    <br>
    <span class="text-sm fw-normal">
      <%= t('vrental_max_guests') %>: <%= booking_vrental.max_guests %>
      <br>
      <% if booking_vrental.beds_detail_full_words %>
        <% booking_vrental.beds_detail_full_words.each do |bed_type_count| %>
          <%= bed_type_count %>
          <br>
        <% end %>
      <% end %>
    </span>
  </th>
  <td>
    <%# this is for cleanings based on checkin %>
    <% unless previous_booking == "no_display" %>
      <% if previous_booking.present? %>
        <% t('previous_checkout') %>: <%= previous_booking_info(previous_booking) %>
      <% else %>
        <span class="fw-normal"><%= t('no_previous_checkout') %></span>
      <% end %>
    <% end %>
    <br>
    <%# this is for cleanings based on checkout %>
    <% unless next_booking == "no_display"  %>
      <% if next_booking.present? %>
        <%= t('next_checkin') %>: <%= next_booking_info(next_booking) %>
      <% else %>
        <span class="fw-normal"><%= t('no_next_checkin') %></span>
      <% end %>
    <% end %>
    <br>
    <% unless last_cleaning == "no_display" %>
      <% if last_cleaning.present? %>
        <% t('previous_cleaning') %>: <%= l(last_cleaning.cleaning_date) %>
        <br>
        <% t('cleaning_type') %>: <%= t(last_cleaning.cleaning_type) %>
      <% else %>
        <span class="fw-normal"><%= t('no_cleaning_records') %></span>
      <% end %>
    <% end %>
  </td>
</tr>
<tr>
  <td colspan="4">
    <% booking.cleaning_schedules.each do |cleaning_schedule| %>
      <%= render "cleaning_schedules/cleaning_schedule", cleaning_schedule: cleaning_schedule, booking: booking, previous_booking: previous_booking, next_booking: next_booking %>
    <% end %>
    <% if booking.cleaning_schedules.none? || booking.cleaning_schedules.any? { |schedule| ["checkout_laundry_pickup", "checkout_no_laundry"].include?(schedule.cleaning_type) } %>
      <% if booking.is_a?(Booking) %>
        <% booking_id = booking.id %>
      <% elsif booking.is_a?(OwnerBooking) %>
        <% owner_booking_id = booking.id %>
      <% end %>
      <h6 class="text_warning"><%= t('add_cleaning_schedule') %></h6>
      <%= turbo_frame_tag "new_cleaning_schedule", src: new_office_cleaning_schedule_path(@office, cleaning_date: date, vrental_id: booking_vrental.id, booking_id: booking_id, owner_booking_id: owner_booking_id, reason: reason) %>
    <% end %>
  </td>
</tr>
