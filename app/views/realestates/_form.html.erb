<%= simple_form_for [realestate] do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>
  <div class="form-inputs">
    <div class="row justify-content-md-center mb-3">
      <div class="col-lg-2">
        <%= f.input :status, as: :radio_buttons, collection: [[t("inactive"),'inactive'],[t("pending"),'pending'],[t("signed"),'signed']] %>
      </div>
      <div class="col-lg-4">
        <%= f.association :seller, label_method: :fullname, include_blank: true, label: ("Seleccionar o #{link_to 'Afegir venedor nou', new_seller_path,  target: "_blank"}").html_safe  %>
      </div>
      <div class="col-lg-4">
        <%= f.input :address %>
      </div>
      <div class="col-lg-2">
        <%= f.input :city %>
      </div>
    </div>
    <div class="row justify-content-md-center mb-3">
      <div class="col-lg-3">
        <%= f.input :cadastre %>
      </div>
      <div class="col-lg-3">
        <%= f.input :habitability %>
      </div>
      <div class="col-lg-4">
        <%= f.input :hab_date, as: :date, start_year: Date.today.year - 100,
                              end_year: Date.today.year, class: "form-control form-control-sm" %>
      </div>
      <div class="col-lg-2">
        <%= f.input :energy %>
      </div>
    </div>
    <%# registre %>
          <p class="mt-3">
      <button class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#collapseRegistre" aria-expanded="false" aria-controls="collapseRegistre">
        Dades Registre de Propietat
      </button>
    </p>
    <div class="collapse" id="collapseRegistre">
      <div class="card card-body">
        <div class="row justify-content-md-center mb-3">
          <div class="col-lg-3">
            <%= f.input :registrar %>
          </div>
          <div class="col-lg-3">
            <%= f.input :registry_code %>
          </div>
          <div class="col-lg-3">
            <%= f.input :registry %>
          </div>
          <div class="col-lg-3">
            <%= f.input :entry, hint: "Per exemple: Inscripció 2ª amb data 26/04/1989" %>
          </div>
        </div>
        <div class="row justify-content-md-center mb-3">
          <div class="col-lg-3">
          <%= f.input :description_screenshot, label: 'Descripció registral (pantallazo)', as: :file %>
          </div>
          <div class="col-lg-3">
            <%= f.input :volume %>
          </div>
          <div class="col-lg-3">
            <%= f.input :book %>
          </div>
          <div class="col-lg-3">
            <%= f.input :sheet %>
          </div>
        </div>
        <div class="row justify-content-md-center mb-3">
          <%= f.input :description, as: :text, :input_html => { class: 'test', :cols => 5, :rows => 5 } %>
        </div>
      </div>
    </div>
    <%# end registre %>
    <%# escriptura del venedor %>
    <p class="mt-3">
      <button class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#collapseEscriptura" aria-expanded="false" aria-controls="collapseEscriptura">
        Dades Escriptura del venedor - prova de la propietat
      </button>
    </p>
    <div class="collapse" id="collapseEscriptura">
      <div class="card card-body">
        <div class="row justify-content-md-center mb-3">
          <div class="col-lg-3">
          <%= f.input :notary %>
          </div>
          <div class="col-lg-3">
            <%= f.input :notary_fullname %>
          </div>
          <div class="col-lg-2">
            <%= f.input :protocol %>
          </div>
          <div class="col-lg-4">
            <%= f.input :deed_date, as: :date, start_year: Date.today.year - 100,
                                  end_year: Date.today.year, class: "form-control form-control-sm" %>
          </div>
        </div>
      </div>
    </div>
    <%# end escriptura %>
    <%# carregues immoble %>
    <p class="mt-3">
      <button class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#collapseCarregues" aria-expanded="false" aria-controls="collapseCarregues">
        Càrregues immoble
      </button>
    </p>
    <div class="collapse" id="collapseCarregues">
      <div class="card card-body">
        <div class="row justify-content-md-center mb-3">
          <div class="col-lg-4">
        <%= f.input :charges_screenshot, label: 'Afegir càrregues (pantallazo)', as: :file %>
          </div>
          <div class="col-lg-4">
            <%= f.input :mortgage_bank %>
          </div>
          <div class="col-lg-4">
            <%= f.input :mortgage_amount %>
          </div>
        </div>
        <div class="row justify-content-md-center mb-3">
        <%= f.input :charges, as: :text, :input_html => { class: 'test', :cols => 5, :rows => 5 } %>
        </div>
      </div>
    </div>
</div>
<div class="form-actions row gx-4 my-5">
  <div class="col text-end">
    <div class="p-3">
      <%= f.submit "Desar", class: "btn btn-primary" %>
    </div>
  </div>
</div>
<% end %>
